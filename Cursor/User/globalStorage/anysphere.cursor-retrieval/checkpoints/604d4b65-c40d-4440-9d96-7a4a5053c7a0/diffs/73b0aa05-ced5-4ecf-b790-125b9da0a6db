{"fsPath":"/home/krishang/Work/examcooker/ExamCooker-2024/app/@protected_routes/notes/page.tsx","fileUuid":"73b0aa05-ced5-4ecf-b790-125b9da0a6db","fileSizeBytes":10525,"numLines":277,"diffChanges":[{"originalStartLineNumberOneIndexed":55,"originalEndLineNumberExclusiveOneIndexed":56,"modifiedStartLineNumberOneIndexed":55,"modifiedEndLineNumberExclusiveOneIndexed":55},{"originalStartLineNumberOneIndexed":64,"originalEndLineNumberExclusiveOneIndexed":64,"modifiedStartLineNumberOneIndexed":63,"modifiedEndLineNumberExclusiveOneIndexed":173,"addedLines":["    // For development mode - return mock data if no database connection","    if (!process.env.DATABASE_URL) {","        const mockNotes = [","            {","                id: '1',","                title: 'Sample Notes 1',","                fileUrl: '#',","                thumbNailUrl: null,","                isClear: true,","                createdAt: new Date(),","                updatedAt: new Date(),","                authorId: 'dev-user',","                tags: [","                    { id: '1', name: 'CAT 1', aliases: [], createdAt: new Date(), updatedAt: new Date() },","                    { id: '2', name: 'A1', aliases: [], createdAt: new Date(), updatedAt: new Date() }","                ]","            },","            {","                id: '2',","                title: 'Sample Notes 2',","                fileUrl: '#',","                thumbNailUrl: null,","                isClear: true,","                createdAt: new Date(),","                updatedAt: new Date(),","                authorId: 'dev-user',","                tags: [","                    { id: '3', name: 'FAT', aliases: [], createdAt: new Date(), updatedAt: new Date() },","                    { id: '4', name: 'B2', aliases: [], createdAt: new Date(), updatedAt: new Date() }","                ]","            }","        ];","","        const filteredNotes = mockNotes.filter(note => {","            if (tags.length === 0) return true;","            return tags.some(tag => note.tags.some(noteTag => noteTag.name === tag));","        });","","        const totalCount = filteredNotes.length;","        const totalPages = Math.ceil(totalCount / pageSize);","        const validatedPage = validatePage(page, totalPages);","        const startIndex = (validatedPage - 1) * pageSize;","        const endIndex = startIndex + pageSize;","        const paginatedNotes = filteredNotes.slice(startIndex, endIndex);","","        return (","            <div className=\"p-8 transition-colors flex flex-col min-h-screen items-center text-black dark:text-[#D5D5D5]\">","                <h1 className=\"text-center mb-4\">Notes (Development Mode)</h1>","                <div className=\"hidden w-5/6 lg:w-1/2 md:flex items-center justify-center p-4 space-y-4 sm:space-y-0 sm:space-x-4 pt-2\">","                    <Dropdown pageType='notes' />","                    <SearchBar pageType=\"notes\" initialQuery={search} />","                    <UploadButtonNotes />","                </div>","","                <div className='flex-col w-5/6 md:hidden space-y-4'>","                    <SearchBar pageType=\"notes\" initialQuery={search} />","                    <div className='flex justify-between'>","                        <Dropdown pageType='notes' />","                        <UploadButtonNotes />","                    </div>","                </div>","","                {tags.length > 0 && (","                    <div className=\"flex justify-center mb-4\">","                        <div className=\"flex flex-wrap gap-2\">","                            {tags.map((tag, index) => (","                                <span key={index} className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded\">","                                    {tag}","                                </span>","                            ))}","                        </div>","                    </div>","                )}","","                <div className='flex justify-center'>","                    <div className=\"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 p-6 place-content-center\">","                        {paginatedNotes.length > 0 ? (","                            paginatedNotes.map((eachNote, index) => (","                                <NotesCard","                                    key={eachNote.id}","                                    note={eachNote}","                                    index={index}","                                />","                            ))","                        ) : (","                            <p className=\"col-span-3 text-center\">","                                {search || tags.length > 0","                                    ? \"No notes found matching your search or selected tags.\"","                                    : \"No notes found.\"}","                            </p>","                        )}","                    </div>","                </div>","","                {totalPages > 1 && (","                    <div className=\"mt-auto\">","                        <Pagination","                            currentPage={validatedPage}","                            totalPages={totalPages}","                            basePath=\"/notes\"","                            searchQuery={search}","                            tagsQuery={tags.join(',')}","                        />","                    </div>","                )}","            </div>","        );","    }","","    const prisma = new PrismaClient();"],"tokenizedAddedLines":[1000137,1000138,1000139,1000140,1000141,1000142,1000143,1000144,1000145,1000146,1000147,1000148,1000149,1000150,1000151,1000152,1000153,1000140,1000154,1000155,1000143,1000144,1000145,1000146,1000147,1000148,1000149,1000156,1000157,1000152,1000158,1000159,10,1000160,1000161,1000162,1000163,10,1000164,1000165,1000166,1000167,1000168,1000169,10,1000170,1000171,1000172,1000173,96,1000174,97,98,10,1000175,1000174,1000176,1000177,1000178,107,98,10,1000179,1000180,1000181,1000182,1000183,1000184,1000185,1000186,1000187,107,1000188,10,1000189,1000190,1000191,1000192,1000193,1000194,1000195,1000196,1000197,1000198,1000199,1000200,1000201,1000202,1000203,1000204,1000205,107,98,10,1000206,1000207,1000208,1000209,1000210,1000211,1000212,1000213,1000214,107,1000188,93,1000215,18,10,48]}],"gitInfo":{"gitInfo":{"gitRoot":"/home/krishang/Work/examcooker/ExamCooker-2024","branch":"main","commitHash":"59832f1c77ee1d80d95253d53b140f6c752242f2"}},"kind":"KIND_MODIFIED"}